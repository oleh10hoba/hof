{"ast":null,"code":"import axios from 'axios'; // export function setCurrentUser(user) {\n//     return {\n//         type: \"SET_CURRENT_USER\",\n//         user\n//     };\n// }\n\nconst setLog = data => {\n  axios.post('http://localhost:3001/login').then(({\n    data\n  }) => {\n    setLogg(data);\n  });\n};\n\nexport const load = data => ({\n  type: 'SET_CURRENT_USER',\n  data\n});\n\nconst setLogg = data => ({\n  type: 'SET_CURRENT_USER',\n  payload: data\n});\n\nexport function logout() {\n  localStorage.removeItem('jwtToken');\n}\nexport const login = data => {\n  console.log(data);\n  return axios.post('http://localhost:3001/login', {\n    login: data.login,\n    password: data.password\n  }).then(res => {\n    if (!res.data.token) {\n      alert(\"Invalid username or password\");\n      return;\n    } else {\n      setLog(data);\n      alert(\"Succ\");\n    }\n\n    const token = res.data.token;\n    localStorage.setItem('jwtToken', token);\n    localStorage.setItem('id', res.data.id);\n  });\n};","map":{"version":3,"sources":["C:/Users/oleh_/Documents/inÅ¼ynierka/hof/client/src/actions/auth.js"],"names":["axios","setLog","data","post","then","setLogg","load","type","payload","logout","localStorage","removeItem","login","console","log","password","res","token","alert","setItem","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAGA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,MAAM,GAAIC,IAAD,IAAU;AACrBF,EAAAA,KAAK,CAACG,IAAN,CAAW,6BAAX,EAA0CC,IAA1C,CAA+C,CAAC;AAAEF,IAAAA;AAAF,GAAD,KAAc;AACzDG,IAAAA,OAAO,CAACH,IAAD,CAAP;AACH,GAFD;AAGH,CAJD;;AAKA,OAAO,MAAMI,IAAI,GAAGJ,IAAI,KAAK;AAAEK,EAAAA,IAAI,EAAE,kBAAR;AAA4BL,EAAAA;AAA5B,CAAL,CAAjB;;AACP,MAAMG,OAAO,GAAIH,IAAD,KACf;AACGK,EAAAA,IAAI,EAAE,kBADT;AAEGC,EAAAA,OAAO,EAAEN;AAFZ,CADe,CAAhB;;AAOA,OAAO,SAASO,MAAT,GAAkB;AACjBC,EAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACP;AAED,OAAO,MAAMC,KAAK,GAAKV,IAAD,IAAU;AAC5BW,EAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;AACI,SAAOF,KAAK,CAACG,IAAN,CAAW,6BAAX,EAA0C;AAAES,IAAAA,KAAK,EAAEV,IAAI,CAACU,KAAd;AAAqBG,IAAAA,QAAQ,EAAEb,IAAI,CAACa;AAApC,GAA1C,EACDX,IADC,CACIY,GAAG,IAAI;AACd,QAAI,CAACA,GAAG,CAACd,IAAJ,CAASe,KAAd,EAAqB;AACjBC,MAAAA,KAAK,CAAC,8BAAD,CAAL;AACA;AACH,KAHD,MAII;AACAjB,MAAAA,MAAM,CAACC,IAAD,CAAN;AACAgB,MAAAA,KAAK,CAAC,MAAD,CAAL;AAEH;;AACD,UAAMD,KAAK,GAAGD,GAAG,CAACd,IAAJ,CAASe,KAAvB;AACAP,IAAAA,YAAY,CAACS,OAAb,CAAqB,UAArB,EAAiCF,KAAjC;AACAP,IAAAA,YAAY,CAACS,OAAb,CAAqB,IAArB,EAA2BH,GAAG,CAACd,IAAJ,CAASkB,EAApC;AACH,GAdM,CAAP;AAeP,CAjBM","sourcesContent":["import axios from 'axios';\r\n\r\n\r\n// export function setCurrentUser(user) {\r\n//     return {\r\n//         type: \"SET_CURRENT_USER\",\r\n//         user\r\n//     };\r\n// }\r\n\r\nconst setLog = (data) => {\r\n    axios.post('http://localhost:3001/login').then(({ data }) => {\r\n        setLogg(data);\r\n    });\r\n};\r\nexport const load = data => ({ type: 'SET_CURRENT_USER', data })\r\nconst setLogg = (data) => \r\n({\r\n    type: 'SET_CURRENT_USER',\r\n    payload: data\r\n});\r\n\r\n\r\nexport function logout() {\r\n        localStorage.removeItem('jwtToken');\r\n}\r\n\r\nexport const login  = (data) => {\r\n    console.log(data)\r\n        return axios.post('http://localhost:3001/login', { login: data.login, password: data.password}\r\n            ).then(res => {\r\n            if (!res.data.token) {\r\n                alert(\"Invalid username or password\")\r\n                return\r\n            }\r\n            else{\r\n                setLog(data);\r\n                alert(\"Succ\")\r\n                \r\n            }\r\n            const token = res.data.token;\r\n            localStorage.setItem('jwtToken', token);\r\n            localStorage.setItem('id', res.data.id);\r\n        });\r\n}"]},"metadata":{},"sourceType":"module"}