{"ast":null,"code":"import { connect } from 'react-redux';\nimport * as productsActions from '../actions/products';\nimport * as favoritesActions from '../actions/favorite';\nimport * as accountActions from '../actions/account';\nimport * as loginAction from '../actions/auth'; // import * as shopsAction from '../actions/shops';\n\nimport App from '../components/App';\nimport { bindActionCreators } from 'redux';\nimport orderBy from 'lodash/orderBy.js';\n\nconst sortBy = (products, filterBy) => {\n  switch (filterBy) {\n    case 'price_high':\n      return orderBy(products, 'price', 'desc');\n\n    case 'price_low':\n      return orderBy(products, 'price', 'asc');\n\n    case 'popular':\n      return orderBy(products, 'rating', 'desc');\n\n    default:\n      return products;\n  }\n};\n\nconst filterProducts = (products, searchQuery) => products.filter(o => o.name.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0 || o.description.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0);\n\nconst searchProducts = (products, filterBy, searchQuery) => {\n  return sortBy(filterProducts(products, searchQuery), filterBy);\n};\n\nconst mapStateToProps = ({\n  products,\n  favorites,\n  account,\n  filter,\n  auth\n}) => ({\n  products: products.items && searchProducts(products.items, filter.filterBy, filter.searchQuery),\n  favorites: favorites.items && searchProducts(favorites.items, filter.filterBy, filter.searchQuery),\n  // shops: shops.items,\n  isReady: favorites.isReady && products.isReady && account.isReady && shops.isReady,\n  isLogged: localStorage.getItem('jwtToken'),\n  // auth.isLogged,\n  account: account.items\n});\n\nconst mapDispatchToProps = dispatch => ({ ...bindActionCreators(Object.assign({}, productsActions, favoritesActions, accountActions, loginAction), dispatch)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["C:/Users/oleh_/Documents/inÅ¼ynierka/hof/client/src/containers/App.js"],"names":["connect","productsActions","favoritesActions","accountActions","loginAction","App","bindActionCreators","orderBy","sortBy","products","filterBy","filterProducts","searchQuery","filter","o","name","toLowerCase","indexOf","description","searchProducts","mapStateToProps","favorites","account","auth","items","isReady","shops","isLogged","localStorage","getItem","mapDispatchToProps","dispatch","Object","assign"],"mappings":"AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,eAAZ,MAAiC,qBAAjC;AACA,OAAO,KAAKC,gBAAZ,MAAkC,qBAAlC;AACA,OAAO,KAAKC,cAAZ,MAAgC,oBAAhC;AACA,OAAO,KAAKC,WAAZ,MAA6B,iBAA7B,C,CACA;;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,OAAOC,OAAP,MAAoB,mBAApB;;AAEA,MAAMC,MAAM,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACrC,UAAQA,QAAR;AACE,SAAK,YAAL;AACE,aAAOH,OAAO,CAACE,QAAD,EAAW,OAAX,EAAoB,MAApB,CAAd;;AACF,SAAK,WAAL;AACE,aAAOF,OAAO,CAACE,QAAD,EAAW,OAAX,EAAoB,KAApB,CAAd;;AACF,SAAK,SAAL;AACE,aAAOF,OAAO,CAACE,QAAD,EAAW,QAAX,EAAqB,MAArB,CAAd;;AACF;AACE,aAAOA,QAAP;AARJ;AAUD,CAXD;;AAcA,MAAME,cAAc,GAAG,CAACF,QAAD,EAAWG,WAAX,KACrBH,QAAQ,CAACI,MAAT,CACEC,CAAC,IACCA,CAAC,CAACC,IAAF,CAAOC,WAAP,GAAqBC,OAArB,CAA6BL,WAAW,CAACI,WAAZ,EAA7B,KAA0D,CAA1D,IAEAF,CAAC,CAACI,WAAF,CAAcF,WAAd,GAA4BC,OAA5B,CAAoCL,WAAW,CAACI,WAAZ,EAApC,KAAkE,CAJtE,CADF;;AAQA,MAAMG,cAAc,GAAG,CAACV,QAAD,EAAWC,QAAX,EAAqBE,WAArB,KAAqC;AAC1D,SAAOJ,MAAM,CAACG,cAAc,CAACF,QAAD,EAAWG,WAAX,CAAf,EAAwCF,QAAxC,CAAb;AACD,CAFD;;AAGA,MAAMU,eAAe,GAAG,CAAC;AAAEX,EAAAA,QAAF;AAAYY,EAAAA,SAAZ;AAAuBC,EAAAA,OAAvB;AAAgCT,EAAAA,MAAhC;AAAwCU,EAAAA;AAAxC,CAAD,MAAqD;AACzEd,EAAAA,QAAQ,EACNA,QAAQ,CAACe,KAAT,IACAL,cAAc,CAACV,QAAQ,CAACe,KAAV,EAAiBX,MAAM,CAACH,QAAxB,EAAkCG,MAAM,CAACD,WAAzC,CAHyD;AAIzES,EAAAA,SAAS,EACPA,SAAS,CAACG,KAAV,IACAL,cAAc,CAACE,SAAS,CAACG,KAAX,EAAkBX,MAAM,CAACH,QAAzB,EAAmCG,MAAM,CAACD,WAA1C,CANyD;AAOzE;AACAa,EAAAA,OAAO,EAAEJ,SAAS,CAACI,OAAV,IAAqBhB,QAAQ,CAACgB,OAA9B,IAAyCH,OAAO,CAACG,OAAjD,IAA4DC,KAAK,CAACD,OARF;AASzEE,EAAAA,QAAQ,EAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAT+D;AAS9B;AAC3CP,EAAAA,OAAO,EACLA,OAAO,CAACE;AAX+D,CAArD,CAAxB;;AAcA,MAAMM,kBAAkB,GAAGC,QAAQ,KAAK,EACtC,GAAGzB,kBAAkB,CAAC0B,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiBhC,eAAjB,EAAkCC,gBAAlC,EAAoDC,cAApD,EAAoEC,WAApE,CAAD,EAAmF2B,QAAnF;AADiB,CAAL,CAAnC;;AAIA,eAAe/B,OAAO,CAACoB,eAAD,EAAkBU,kBAAlB,CAAP,CAA6CzB,GAA7C,CAAf","sourcesContent":["import { connect } from 'react-redux';\r\nimport * as productsActions from '../actions/products';\r\nimport * as favoritesActions from '../actions/favorite';\r\nimport * as accountActions from '../actions/account';\r\nimport * as loginAction from '../actions/auth';\r\n// import * as shopsAction from '../actions/shops';\r\nimport App from '../components/App';\r\nimport { bindActionCreators } from 'redux';\r\nimport orderBy from 'lodash/orderBy.js';\r\n\r\nconst sortBy = (products, filterBy) => {\r\n  switch (filterBy) {\r\n    case 'price_high':\r\n      return orderBy(products, 'price', 'desc');\r\n    case 'price_low':\r\n      return orderBy(products, 'price', 'asc');\r\n    case 'popular':\r\n      return orderBy(products, 'rating', 'desc');\r\n    default:\r\n      return products;\r\n  }\r\n}\r\n\r\n\r\nconst filterProducts = (products, searchQuery) =>\r\n  products.filter(\r\n    o =>\r\n      o.name.toLowerCase().indexOf(searchQuery.toLowerCase()) >=0 \r\n      || \r\n      o.description.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0\r\n);\r\n\r\nconst searchProducts = (products, filterBy, searchQuery) => {\r\n  return sortBy(filterProducts(products, searchQuery), filterBy);\r\n}\r\nconst mapStateToProps = ({ products, favorites, account, filter, auth }) => ({\r\n    products: \r\n      products.items &&\r\n      searchProducts(products.items, filter.filterBy, filter.searchQuery),\r\n    favorites: \r\n      favorites.items &&\r\n      searchProducts(favorites.items, filter.filterBy, filter.searchQuery),\r\n    // shops: shops.items,\r\n    isReady: favorites.isReady && products.isReady && account.isReady && shops.isReady,\r\n    isLogged: localStorage.getItem('jwtToken'),// auth.isLogged,\r\n    account: \r\n      account.items\r\n\r\n  });\r\nconst mapDispatchToProps = dispatch => ({\r\n  ...bindActionCreators(Object.assign({},productsActions, favoritesActions, accountActions, loginAction), dispatch)\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);"]},"metadata":{},"sourceType":"module"}