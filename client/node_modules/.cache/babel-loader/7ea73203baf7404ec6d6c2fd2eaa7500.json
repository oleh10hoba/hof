{"ast":null,"code":"import axios from 'axios';\nimport { Link } from \"react-router-dom\";\n\nconst setLog = data => {\n  axios.post('http://localhost:3001/login').then(({\n    data\n  }) => {\n    setLogg(data);\n  });\n};\n\nexport const load = data => ({\n  type: 'SET_CURRENT_USER',\n  data\n});\n\nconst setLogg = data => ({\n  type: 'SET_CURRENT_USER',\n  payload: data\n});\n\nexport function logout() {\n  localStorage.removeItem('jwtToken');\n  localStorage.removeItem('id');\n  window.location.reload(false);\n  alert(\"Wylogono!!!\");\n}\nexport const login = data => {\n  return axios.post('http://localhost:3001/login', {\n    login: data.login,\n    password: data.password\n  }).then(res => {\n    if (!res.data.token) {\n      alert(\"Invalid username or password\");\n      return;\n    } else {\n      setLog(data);\n      alert(\"Zalogowano!!!\");\n    }\n\n    const token = res.data.token;\n    localStorage.setItem('jwtToken', token);\n    localStorage.setItem('id', res.data.id);\n    window.location.reload(false);\n  });\n};","map":{"version":3,"sources":["C:/Users/oleh_/Documents/inÅ¼ynierka/hof/client/src/actions/auth.js"],"names":["axios","Link","setLog","data","post","then","setLogg","load","type","payload","logout","localStorage","removeItem","window","location","reload","alert","login","password","res","token","setItem","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;;AAEA,MAAMC,MAAM,GAAIC,IAAD,IAAU;AACrBH,EAAAA,KAAK,CAACI,IAAN,CAAW,6BAAX,EAA0CC,IAA1C,CAA+C,CAAC;AAAEF,IAAAA;AAAF,GAAD,KAAc;AACzDG,IAAAA,OAAO,CAACH,IAAD,CAAP;AACH,GAFD;AAGH,CAJD;;AAKA,OAAO,MAAMI,IAAI,GAAGJ,IAAI,KAAK;AAAEK,EAAAA,IAAI,EAAE,kBAAR;AAA4BL,EAAAA;AAA5B,CAAL,CAAjB;;AACP,MAAMG,OAAO,GAAIH,IAAD,KACf;AACGK,EAAAA,IAAI,EAAE,kBADT;AAEGC,EAAAA,OAAO,EAAEN;AAFZ,CADe,CAAhB;;AAOA,OAAO,SAASO,MAAT,GAAkB;AACjBC,EAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,IAAxB;AACAC,EAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACAC,EAAAA,KAAK,CAAC,aAAD,CAAL;AACP;AAED,OAAO,MAAMC,KAAK,GAAKd,IAAD,IAAU;AACxB,SAAOH,KAAK,CAACI,IAAN,CAAW,6BAAX,EAA0C;AAAEa,IAAAA,KAAK,EAAEd,IAAI,CAACc,KAAd;AAAqBC,IAAAA,QAAQ,EAAEf,IAAI,CAACe;AAApC,GAA1C,EACDb,IADC,CACIc,GAAG,IAAI;AACd,QAAI,CAACA,GAAG,CAAChB,IAAJ,CAASiB,KAAd,EAAqB;AACjBJ,MAAAA,KAAK,CAAC,8BAAD,CAAL;AACA;AACH,KAHD,MAII;AACAd,MAAAA,MAAM,CAACC,IAAD,CAAN;AACAa,MAAAA,KAAK,CAAC,eAAD,CAAL;AAEH;;AACD,UAAMI,KAAK,GAAGD,GAAG,CAAChB,IAAJ,CAASiB,KAAvB;AACAT,IAAAA,YAAY,CAACU,OAAb,CAAqB,UAArB,EAAiCD,KAAjC;AACAT,IAAAA,YAAY,CAACU,OAAb,CAAqB,IAArB,EAA2BF,GAAG,CAAChB,IAAJ,CAASmB,EAApC;AACAT,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACH,GAfM,CAAP;AAgBP,CAjBM","sourcesContent":["import axios from 'axios';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst setLog = (data) => {\r\n    axios.post('http://localhost:3001/login').then(({ data }) => {\r\n        setLogg(data);\r\n    });\r\n};\r\nexport const load = data => ({ type: 'SET_CURRENT_USER', data })\r\nconst setLogg = (data) => \r\n({\r\n    type: 'SET_CURRENT_USER',\r\n    payload: data\r\n});\r\n\r\n\r\nexport function logout() {\r\n        localStorage.removeItem('jwtToken');\r\n        localStorage.removeItem('id');\r\n        window.location.reload(false);\r\n        alert(\"Wylogono!!!\")\r\n}\r\n\r\nexport const login  = (data) => {\r\n        return axios.post('http://localhost:3001/login', { login: data.login, password: data.password}\r\n            ).then(res => {\r\n            if (!res.data.token) {\r\n                alert(\"Invalid username or password\")\r\n                return\r\n            }\r\n            else{\r\n                setLog(data);\r\n                alert(\"Zalogowano!!!\")\r\n                \r\n            }\r\n            const token = res.data.token;\r\n            localStorage.setItem('jwtToken', token);\r\n            localStorage.setItem('id', res.data.id);\r\n            window.location.reload(false);\r\n        });\r\n}"]},"metadata":{},"sourceType":"module"}